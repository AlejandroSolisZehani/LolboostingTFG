{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aszerk\\\\Desktop\\\\lolboostingTFG\\\\lolboosting\\\\src\\\\Paginas\\\\Usuarios\\\\ModificarPerfil.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport * as Yup from 'yup';\nimport { useNavigate } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport { Formik, Form, Field, ErrorMessage, enableReinitialize } from 'formik';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ModificarPerfil() {\n  _s();\n\n  const [usuario, setUsuario] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (localStorage.getItem(\"IdUsuario\") == null || localStorage.getItem(\"TokenUsuario\") == null) {\n      navigate(\"/login\");\n    } else {\n      axios.get(`/usuarios/${localStorage.getItem(\"IdUsuario\")}`, {\n        headers: {\n          \"x-access-token\": `${localStorage.getItem(\"TokenUsuario\")}`\n        }\n      }).then(response => setUsuario(response.data)).catch(error => console.log(error));\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: usuario,\n        validationSchema: Yup.object({\n          email_usuario: Yup.string().required(\"Es obligatorio poner el correo y que sea único\").email(\"Ha de ser un correo\"),\n          telefono_usuario: Yup.string().matches(/^[0-9]{9}$/, 'Tiene que ser un numero de 9 digitos').required(\"Es obligatorio poner el numero de telefono\"),\n          nombre_usuario: Yup.string().required(\"Tienes que tener un nombre de Usuario\").min(6, \"Ha de tener un longitud minima de 6 caracteres\"),\n          direccion: Yup.string().required(\"Es obligatorio poner una dirección\")\n        }),\n        onSubmit: (values, actions) => {\n          console.log(values);\n          axios.put(`/usuarios/${localStorage.getItem(\"IdUsuario\")}`, values, {\n            headers: {\n              \"x-access-token\": `${localStorage.getItem(\"TokenUsuario\")}`\n            }\n          }).then(res => {\n            console.log(res.status);\n\n            if (res.status === 200) {\n              toast.success(\"Se ha actualizado sin problemas\", {\n                duration: 2500\n              });\n              navigate('/miperfil');\n            } else {\n              toast.error(\"Algo salio mal\");\n            }\n          }).catch(error => {\n            console.log(error);\n\n            if (error.response.data.message === \"jwt expired\") {\n              toast.error(\"Sesión Cerrada vuelve a Loggearte\");\n              localStorage.clear();\n              navigate(\"/login\");\n            } else {\n              toast.error(\"El telefono o Correo electronico ya estan en uso\");\n            }\n          });\n        },\n        enableReinitialize: true,\n        children: _ref => {\n          let {\n            handleSubmit\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Correo Electronico\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"email_usuario\",\n                  placeholder: \"CorreoDeEjemplo@gmail.com\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 82\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"email_usuario\",\n                  className: \"text-red-900\",\n                  component: \"p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Telefono Movil\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"telefono_usuario\",\n                  placeholder: \"622313017\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 69\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"telefono_usuario\",\n                  className: \"text-red-900\",\n                  component: \"p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nombre Usuario\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"nombre_usuario\",\n                  placeholder: \"Aszerk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 64\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"nombre_usuario\",\n                  className: \"text-red-900\",\n                  component: \"p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Direccion\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  name: \"direccion\",\n                  placeholder: \"Calle de la Justicia 8 Fuenlabrada Madrid 28089\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 100\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"direccion\",\n                  className: \"text-red-900\",\n                  component: \"p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                children: \"Actualizar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(ModificarPerfil, \"fGNX1Tcd6ljreZxjlJyH1aZNN6w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ModificarPerfil;\nexport default ModificarPerfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModificarPerfil\");","map":{"version":3,"names":["React","useState","useEffect","axios","Yup","useNavigate","toast","Formik","Form","Field","ErrorMessage","enableReinitialize","ModificarPerfil","usuario","setUsuario","navigate","localStorage","getItem","get","headers","then","response","data","catch","error","console","log","object","email_usuario","string","required","email","telefono_usuario","matches","nombre_usuario","min","direccion","values","actions","put","res","status","success","duration","message","clear","handleSubmit"],"sources":["C:/Users/Aszerk/Desktop/lolboostingTFG/lolboosting/src/Paginas/Usuarios/ModificarPerfil.js"],"sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport * as Yup from 'yup'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport toast from 'react-hot-toast'\r\nimport { Formik,Form, Field, ErrorMessage, enableReinitialize } from 'formik'\r\nfunction ModificarPerfil() {\r\n    const [usuario, setUsuario] = useState([])\r\n    const navigate = useNavigate();\r\n    useEffect(()=>{\r\n        if(localStorage.getItem(\"IdUsuario\")==null||localStorage.getItem(\"TokenUsuario\")==null){\r\n            navigate(\"/login\")\r\n          }else{\r\n        axios.get(`/usuarios/${localStorage.getItem(\"IdUsuario\")}`,{ headers: {\"x-access-token\" : `${localStorage.getItem(\"TokenUsuario\")}`} })\r\n        .then(response => setUsuario(response.data))\r\n        .catch(error => console.log(error))\r\n    }},[])\r\n  return (\r\n    <>\r\n    <div>\r\n        <Formik\r\n        initialValues={usuario}\r\n          validationSchema={Yup.object({\r\n            email_usuario: Yup.string().required(\"Es obligatorio poner el correo y que sea único\").email(\"Ha de ser un correo\"),\r\n            telefono_usuario: Yup.string().matches(/^[0-9]{9}$/, 'Tiene que ser un numero de 9 digitos').required(\"Es obligatorio poner el numero de telefono\"),\r\n            nombre_usuario: Yup.string().required(\"Tienes que tener un nombre de Usuario\").min(6,\"Ha de tener un longitud minima de 6 caracteres\"),\r\n            direccion: Yup.string().required(\"Es obligatorio poner una dirección\")\r\n          })\r\n        \r\n        }\r\n        onSubmit={(values, actions) =>{\r\n            console.log(values)\r\n            axios.put(`/usuarios/${localStorage.getItem(\"IdUsuario\")}`,values,{ headers: {\"x-access-token\" : `${localStorage.getItem(\"TokenUsuario\")}`} })\r\n            .then(res => {console.log(res.status);\r\n            if(res.status===200){\r\n              toast.success(\"Se ha actualizado sin problemas\",{duration:2500})\r\n              navigate('/miperfil')\r\n            }else{\r\n              toast.error(\"Algo salio mal\")\r\n            }})\r\n            .catch(error => {\r\n                console.log(error)\r\n            if(error.response.data.message===\"jwt expired\"){\r\n                toast.error(\"Sesión Cerrada vuelve a Loggearte\")\r\n                localStorage.clear()\r\n                navigate(\"/login\")\r\n            }else{\r\n                toast.error(\"El telefono o Correo electronico ya estan en uso\")\r\n            }\r\n            })\r\n          }}\r\n          enableReinitialize\r\n        >\r\n            {({handleSubmit}) =>(\r\n          <Form onSubmit={handleSubmit}>\r\n            <div>\r\n            <div>\r\n            <label>Correo Electronico</label>\r\n            <Field name=\"email_usuario\" placeholder=\"CorreoDeEjemplo@gmail.com\"/><br></br>\r\n            <ErrorMessage name='email_usuario' className='text-red-900' component=\"p\"/>\r\n            </div>\r\n            <div>\r\n            <label>Telefono Movil</label>\r\n            <Field name=\"telefono_usuario\" placeholder=\"622313017\"/><br></br>\r\n            <ErrorMessage name='telefono_usuario' className='text-red-900' component=\"p\"/>\r\n            </div>\r\n            <div>\r\n            <label>Nombre Usuario</label>\r\n            <Field name=\"nombre_usuario\" placeholder=\"Aszerk\"/><br></br>\r\n            <ErrorMessage name='nombre_usuario' className='text-red-900' component=\"p\"/>\r\n            </div>\r\n            <div>\r\n            <label>Direccion</label>\r\n            <Field name=\"direccion\" placeholder=\"Calle de la Justicia 8 Fuenlabrada Madrid 28089\"/><br></br>\r\n            <ErrorMessage name='direccion' className='text-red-900' component=\"p\"/>\r\n            </div>\r\n            <button type='submit'>Actualizar</button>\r\n            </div>\r\n          </Form>\r\n      )}\r\n        </Formik>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ModificarPerfil"],"mappings":"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"},"metadata":{},"sourceType":"module"}